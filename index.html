<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Military Asset Management System</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ================= RESET & GLOBAL ================= */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,Segoe UI,Roboto,Arial;
  background:linear-gradient(135deg,#020617,#0b1220);
  color:#e5e7eb;
}

/* ================= LOGIN ================= */
.login{
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at top,#1e293b,#020617 65%);
}

.card{
  width:360px;
  padding:36px;
  border-radius:18px;
  background:rgba(2,6,23,.85);
  backdrop-filter:blur(14px);
  border:1px solid rgba(148,163,184,.15);
  box-shadow:0 30px 70px rgba(0,0,0,.75);
  animation:fade .8s ease;
}

@keyframes fade{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:none}
}

.card h2{
  text-align:center;
  margin-bottom:18px;
  letter-spacing:1px;
  color:#38bdf8;
}

input{
  width:100%;
  padding:14px;
  margin-top:14px;
  border-radius:10px;
  border:1px solid #1e293b;
  background:rgba(2,6,23,.7);
  color:#e5e7eb;
  outline:none;
  transition:.3s;
}

input:focus{
  border-color:#38bdf8;
  box-shadow:0 0 0 2px rgba(56,189,248,.3);
}

button{
  width:100%;
  margin-top:20px;
  padding:14px;
  border:none;
  border-radius:10px;
  background:linear-gradient(135deg,#38bdf8,#2563eb);
  color:#020617;
  font-weight:700;
  cursor:pointer;
  transition:.3s;
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 30px rgba(56,189,248,.45);
}

/* ================= APP LAYOUT ================= */
.app{display:none;min-height:100vh}

.container{
  display:flex;
}

/* ================= SIDEBAR ================= */
.sidebar{
  width:250px;
  min-height:100vh;
  background:rgba(2,6,23,.95);
  backdrop-filter:blur(10px);
  border-right:1px solid rgba(148,163,184,.15);
  padding:24px;
}

.sidebar h3{
  text-align:center;
  letter-spacing:3px;
  margin-bottom:6px;
  color:#38bdf8;
}

.sidebar small{
  display:block;
  text-align:center;
  margin-bottom:32px;
  color:#64748b;
}

.sidebar a{
  display:block;
  padding:14px 16px;
  margin-bottom:12px;
  border-radius:12px;
  color:#c7d2fe;
  text-decoration:none;
  transition:.3s;
}

.sidebar a:hover{
  background:linear-gradient(135deg,#1e293b,#020617);
  color:#38bdf8;
  box-shadow:inset 0 0 0 1px rgba(56,189,248,.25);
  transform:translateX(4px);
}

/* ================= MAIN ================= */
.main{
  flex:1;
  padding:36px;
  background:radial-gradient(circle at top right,#0f172a,#0b1220 70%);
}

h2{
  margin-top:0;
  margin-bottom:24px;
  letter-spacing:1px;
}

/* ================= DASHBOARD ================= */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:24px;
}

.box{
  background:rgba(2,6,23,.85);
  backdrop-filter:blur(10px);
  padding:26px;
  border-radius:18px;
  border:1px solid rgba(148,163,184,.12);
  box-shadow:0 12px 30px rgba(0,0,0,.5);
  transition:.3s;
}

.box:hover{
  transform:translateY(-6px);
}

.box b{
  display:block;
  margin-top:10px;
  font-size:34px;
  color:#38bdf8;
}

/* ================= FORMS ================= */
h3{color:#38bdf8;margin-top:0}

.section input{margin-bottom:14px}
.section button{max-width:220px}

/* ================= RESPONSIVE ================= */
@media(max-width:800px){
  .sidebar{display:none}
}
  /* âœ… ADDED LINE */
@media (max-width:768px){.container{flex-direction:column}}
</style>
</head>

<body>

<!-- ================= LOGIN ================= -->
<div id="login" class="login">
  <div class="card">
    <h2>Military Login</h2>
    <input id="u" placeholder="Username">
    <input id="p" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <p style="font-size:12px;color:#64748b;text-align:center;margin-top:14px">
      admin / commander / logistics<br>
      password
    </p>
  </div>
</div>

<!-- ================= APP ================= -->
<div id="app" class="app">
  <div class="container">

    <div class="sidebar">
      <h3>M.A.M.S</h3>
      <small>Asset Control</small>
      <a onclick="show('dash')">Dashboard</a>
      <a onclick="show('purchase')">Purchases</a>
      <a onclick="show('transfer')">Transfers</a>
      <a onclick="show('assign')">Assignments</a>
    </div>

    <div class="main">
      <h2 id="title">Dashboard</h2>

      <div id="dash">
        <div class="grid">
          <div class="box">Opening Balance<b>12000</b></div>
          <div class="box">Closing Balance<b>11200</b></div>
          <div class="box">Net Movement<b>-800</b></div>
          <div class="box">Expended<b>300</b></div>
        </div>
      </div>

      <div id="purchase" class="section" style="display:none">
        <h3>Record Purchase</h3>
        <input placeholder="Base">
        <input placeholder="Equipment">
        <input placeholder="Quantity">
        <button>Save</button>
      </div>

      <div id="transfer" class="section" style="display:none">
        <h3>Transfer Assets</h3>
        <input placeholder="From Base">
        <input placeholder="To Base">
        <input placeholder="Equipment">
        <input placeholder="Quantity">
        <button>Transfer</button>
      </div>

      <div id="assign" class="section" style="display:none">
        <h3>Assign / Expend</h3>
        <input placeholder="Personnel">
        <input placeholder="Equipment">
        <input placeholder="Quantity">
        <button>Assign</button>
      </div>

    </div>
  </div>
</div>

<!-- ================= JS ================= -->
<script>
let role="";

function login(){
  if(p.value!=="password"){alert("Invalid credentials");return}

  if(u.value==="admin")role="ADMIN";
  else if(u.value==="commander")role="COMMANDER";
  else if(u.value==="logistics")role="LOGISTICS";
  else{alert("Unknown user");return}

  loginDiv.style.display="none";
  app.style.display="block";
  applyRBAC();
}

function applyRBAC(){
  document.querySelectorAll(".sidebar a").forEach(a=>a.style.display="none");

  if(role==="ADMIN") showMenu(["dash","purchase","transfer","assign"]);
  if(role==="COMMANDER") showMenu(["dash","transfer","assign"]);
  if(role==="LOGISTICS") showMenu(["purchase","transfer"]);

  show(role==="LOGISTICS"?"purchase":"dash");
}

function showMenu(pages){
  pages.forEach(p=>{
    document.querySelector(`a[onclick="show('${p}')"]`).style.display="block";
  });
}

function show(id){
  ["dash","purchase","transfer","assign"]
    .forEach(x=>document.getElementById(x).style.display="none");
  document.getElementById(id).style.display="block";
  title.innerText=id.toUpperCase()+" ("+role+")";
}

const loginDiv=document.getElementById("login");
const app=document.getElementById("app");
</script>

</body>
</html>

